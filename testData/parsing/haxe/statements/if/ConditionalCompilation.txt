haXe File
  HAXE_PP
    HAXE_PPIF
      PsiElement(#if)('#if')
      HAXE_PARENTHESIZEDEXPRESSION
        PsiElement(()('(')
        HAXE_LOGICANDEXPRESSION
          HAXE_REFERENCEEXPRESSION
            HAXE_IDENTIFIER
              PsiElement(ID)('neko')
          PsiElement(&&)('&&')
          HAXE_REFERENCEEXPRESSION
            HAXE_IDENTIFIER
              PsiElement(ID)('mydebug')
        PsiElement())(')')
  HAXE_TYPEDEFDECLARATION
    PsiElement(typedef)('typedef')
    HAXE_COMPONENTNAME
      HAXE_IDENTIFIER
        PsiElement(ID)('Vector')
    PsiElement(=)('=')
    HAXE_TYPEORANONYMOUS
      HAXE_TYPE
        HAXE_REFERENCEEXPRESSION
          HAXE_REFERENCEEXPRESSION
            HAXE_REFERENCEEXPRESSION
              HAXE_IDENTIFIER
                PsiElement(ID)('com')
            PsiElement(.)('.')
            HAXE_REFERENCEEXPRESSION
              HAXE_IDENTIFIER
                PsiElement(ID)('foo')
          PsiElement(.)('.')
          HAXE_REFERENCEEXPRESSION
            HAXE_IDENTIFIER
              PsiElement(ID)('SuperArray')
    PsiElement(;)(';')
  PsiComment(MSL_COMMENT)('// Only for "mydebug" mode on Neko')
  HAXE_PP
    HAXE_PPEND
      PsiElement(#end)('#end')
  HAXE_CLASSDECLARATION
    PsiElement(class)('class')
    HAXE_COMPONENTNAME
      HAXE_IDENTIFIER
        PsiElement(ID)('ConditionalCompilation')
    PsiElement({)('{')
    HAXE_CLASSBODY
      HAXE_FUNCTIONDECLARATIONWITHATTRIBUTES
        PsiElement(function)('function')
        HAXE_COMPONENTNAME
          HAXE_IDENTIFIER
            PsiElement(ID)('foo')
        PsiElement(()('(')
        PsiElement())(')')
        HAXE_BLOCKSTATEMENT
          PsiElement({)('{')
          HAXE_PP
            HAXE_PPIF
              PsiElement(#if)('#if')
              HAXE_REFERENCEEXPRESSION
                HAXE_IDENTIFIER
                  PsiElement(ID)('debug')
          HAXE_CALLEXPRESSION
            HAXE_REFERENCEEXPRESSION
              HAXE_IDENTIFIER
                PsiElement(ID)('trace')
            PsiElement(()('(')
            HAXE_EXPRESSIONLIST
              HAXE_LITERALEXPRESSION
                PsiElement(LITSTRING)('"Debug infos for all debug compiles"')
            PsiElement())(')')
          PsiElement(;)(';')
          HAXE_PP
            HAXE_PPEND
              PsiElement(#end)('#end')
          HAXE_PP
            HAXE_PPIF
              PsiElement(#if)('#if')
              HAXE_REFERENCEEXPRESSION
                HAXE_IDENTIFIER
                  PsiElement(ID)('flash8')
          PsiComment(MSL_COMMENT)('// Haxe code specific for flash player 8')
          HAXE_PP
            HAXE_PPELSEIF
              PsiElement(#elseif)('#elseif')
              HAXE_REFERENCEEXPRESSION
                HAXE_IDENTIFIER
                  PsiElement(ID)('flash')
          PsiComment(MSL_COMMENT)('// Haxe code specific for flash platform (any version)')
          HAXE_PP
            HAXE_PPELSEIF
              PsiElement(#elseif)('#elseif')
              HAXE_REFERENCEEXPRESSION
                HAXE_IDENTIFIER
                  PsiElement(ID)('js')
          PsiComment(MSL_COMMENT)('// Haxe code specific for javascript plaform')
          HAXE_PP
            HAXE_PPELSEIF
              PsiElement(#elseif)('#elseif')
              HAXE_REFERENCEEXPRESSION
                HAXE_IDENTIFIER
                  PsiElement(ID)('neko')
          PsiComment(MSL_COMMENT)('// Haxe code specific for neko plaform')
          HAXE_PP
            HAXE_PPELSE
              PsiElement(#else)('#else')
          PsiComment(MSL_COMMENT)('// do something else')
          HAXE_PP
            HAXE_PPERROR
              PsiElement(#error)('#error')
          PsiComment(MSL_COMMENT)('// will display an error "Not implemented on this platform"')
          HAXE_PP
            HAXE_PPERROR
              PsiElement(#error)('#error')
          HAXE_LITERALEXPRESSION
            PsiElement(LITSTRING)('"Custom error message"')
          PsiComment(MSL_COMMENT)('// will display an error "Custom error message"')
          HAXE_PP
            HAXE_PPEND
              PsiElement(#end)('#end')
          PsiElement(})('}')
    PsiElement(})('}')