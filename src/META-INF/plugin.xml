<idea-plugin version="2">
  <id>com.intellij.plugins.haxe</id>
  <name>haXe Support</name>
  <description>Support for haXe programming language</description>
  <change-notes>
    <![CDATA[
      <p>0.2:</p>
      <ul>
        <li>Basic goto action implementation(local declarations, classes)</li>
        <li>Local reference completion</li>
        <li>Class completion</li>
        <li>Color settings</li>
        <li>Code formatter</li>
        <li>Parsing fixes</li>
        <li>Fixes for MacOS</li>
        <li>Go to Class</li>
        <li>Icons for components</li>
        <li>Debugger for flash target (require "Flex Support" plugin)</li>
      </ul>
      <p>0.1:</p>
      <ul>
        <li>haXe module and SDK</li>
        <li>Parsing haXe files</li>
        <li>Keyword completion</li>
        <li>Compile haXe files and run in Neko VM</li>
      </ul>
      ]]>
  </change-notes>
  <version>0.2</version>
  <vendor logo="/general/ijLogo.png">JetBrains</vendor>
  <idea-version since-build="114.145" until-build="117.1"/>
  <depends>com.intellij.modules.ultimate</depends>
  <depends optional="true" config-file="flex-debugger-support.xml">com.intellij.flex</depends>

  <application-components>
    <!-- Add your application components here -->
  </application-components>
  <extensionPoints>
    <extensionPoint name="module.config" interface="com.intellij.plugins.haxe.ide.projectStructure.HaxeModuleConfigurationExtensionPoint"/>
  </extensionPoints>
  <extensions defaultExtensionNs="com.intellij">
    <errorHandler implementation="com.intellij.diagnostic.ITNReporter"/>

    <iconProvider implementation="com.intellij.plugins.haxe.ide.HaxeIconProvider"/>

    <sdkType implementation="com.intellij.plugins.haxe.config.sdk.HaxeSdkType"/>
    <compiler implementation="com.intellij.plugins.haxe.compilation.HaxeCompiler"/>
    <moduleType id="HAXE_MODULE" implementationClass="com.intellij.plugins.haxe.ide.module.HaxeModuleType"/>
    <moduleConfigurationEditorProvider
        implementation="com.intellij.plugins.haxe.ide.projectStructure.HaxeModuleConfigurationEditorProvider"/>
    <fileTypeFactory implementation="com.intellij.plugins.haxe.HaxeFileTypeLoader"/>

    <programRunner implementation="com.intellij.plugins.haxe.runner.HaxeRunner"/>

    <lang.parserDefinition language="haXe" implementationClass="com.intellij.plugins.haxe.lang.parser.HaxeParserDefinition"/>
    <lang.formatter language="haXe" implementationClass="com.intellij.plugins.haxe.ide.formatter.HaxeFormattingModelBuilder"/>
    <lang.syntaxHighlighterFactory key="haXe" implementationClass="com.intellij.plugins.haxe.ide.highlight.HaxeSyntaxHighlighterFactory"/>
    <lang.braceMatcher language="haXe" implementationClass="com.intellij.plugins.haxe.ide.HaxeBraceMatcher"/>
    <lang.findUsagesProvider language="haXe" implementationClass="com.intellij.plugins.haxe.ide.HaxeFindUsagesProvider"/>
    <lang.implementationTextSelectioner language="haXe"
                                        implementationClass="com.intellij.plugins.haxe.ide.HaxeImplementationTextSelectioner"/>

    <colorSettingsPage implementation="com.intellij.plugins.haxe.ide.highlight.HaxeColorSettingsPage"/>

    <codeStyleSettingsProvider implementation="com.intellij.plugins.haxe.ide.formatter.settings.HaxeCodeStyleSettingsProvider"/>
    <langCodeStyleSettingsProvider implementation="com.intellij.plugins.haxe.ide.formatter.settings.HaxeLanguageCodeStyleSettingsProvider"/>

    <quoteHandler fileType="haXe" className="com.intellij.plugins.haxe.ide.HaxeQuoteHandler"/>

    <completion.contributor language="haXe" implementationClass="com.intellij.plugins.haxe.ide.HaxeKeywordCompletionContributor"/>
    <completion.contributor language="haXe" implementationClass="com.intellij.plugins.haxe.ide.HaxeClassNameCompletionContributor"/>

    <configurationType implementation="com.intellij.plugins.haxe.runner.HaxeRunConfigurationType"/>

    <moduleService serviceInterface="com.intellij.plugins.haxe.ide.module.HaxeModuleSettings"
                   serviceImplementation="com.intellij.plugins.haxe.ide.module.HaxeModuleSettings"/>

    <internalFileTemplate name="haXe Class"/>
    <internalFileTemplate name="haXe Interface"/>
    <internalFileTemplate name="haXe Enum"/>

    <fileBasedIndex implementation="com.intellij.plugins.haxe.ide.index.HaxeComponentIndex"/>
    <fileBasedIndex implementation="com.intellij.plugins.haxe.ide.index.HaxeComponentFileNameIndex"/>
    <gotoClassContributor implementation="com.intellij.plugins.haxe.ide.HaxeClassContributor"/>

    <!--<annotator language="haXe" implementationClass="com.intellij.plugins.haxe.lang.annotator.HaxeReferenceAnnotator"/>-->
  </extensions>

  <actions>
    <action id="Haxe.NewHaxeClass" class="com.intellij.plugins.haxe.ide.actions.CreateClassAction"
            text="haXe Class" description="Create new haXe class/interface/enum">
      <add-to-group group-id="NewGroup" anchor="before" relative-to-action="NewFile"/>
    </action>
  </actions>
</idea-plugin>